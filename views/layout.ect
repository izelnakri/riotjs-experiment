<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title><%- @title || 'RiotJS Experiment' %></title>
    <meta name="description" content="<%- @description || 'RiotJS Experiment - Izel Nakri' %>">

    <!-- optional: Social media tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <!-- add the other favicons here
    <link rel="apple-touch-icon" href="">
    <link rel="apple-touch-icon" sizes="76x76" href="">
    <link rel="apple-touch-icon" sizes="120x120" href="">
    <link rel="apple-touch-icon" sizes="152x152" href="/"> -->

    <link rel="stylesheet" media="all" href="/css/application.css">
  </head>
  <body>
    <% if @header : %>
        <%- @header %>
    <% else : %>
      <iz-header></iz-header>
    <% end %>

    <% if @page : %>
        <%- @page %>
    <% else : %>
        <page id="page"></page>
    <% end %>

    <% if @footer : %>
        <%- @footer %>
    <% else : %>
      <iz-footer></iz-footer>
    <% end %>


    <script src="/js/system.js"></script>
    <script>
    System.config({
        baseURL: '/',
        map: {
            jquery: '//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js',
            webfont: '//ajax.googleapis.com/ajax/libs/webfont/1.5.10/webfont.js',
            lodash: '//cdnjs.cloudflare.com/ajax/libs/lodash.js/4.6.1/lodash.min.js',
            riot: '//cdnjs.cloudflare.com/ajax/libs/riot/2.3.17/riot+compiler.min.js',
            views: '/js/views.js',
            chart: '//cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js',
            copy: '/js/copy.js',
            moment: '//cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/moment.min.js',
            vendor: '/js/vendor.js',
            app: '/js/app.js'
        },
        meta: {
            vendor: {
                'format': 'global'
            },
            riot: {
                'format': 'global'
            },
            views: {
                'format': 'global',
                deps: 'riot'
            },
            moment: {
                'format': 'global'
            },
            app: {
                deps: ['jquery', 'lodash', 'riot', 'views', 'chart', 'copy', 'moment',
                'vendor']
            }
        }
    });

    System.import('app').then(function(app) {
        console.log(app);
        console.log('app is loaded');
    });
    </script>
  </body>
</html>
