!function e(t,r,n){function o(u,c){if(!r[u]){if(!t[u]){var a="function"==typeof require&&require;if(!c&&a)return a(u,!0);if(i)return i(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var s=r[u]={exports:{}};t[u][0].call(s.exports,function(e){var r=t[u][1][e];return o(r?r:e)},s,s.exports,e,t,r,n)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(e,t,r){"use strict";function n(){return{type:"INCREMENT"}}function o(){return{type:"DECREMENT"}}Object.defineProperty(r,"__esModule",{value:!0}),r.incrementCounter=n,r.decrementCounter=o},{}],2:[function(e,t,r){"use strict";function n(){return{type:"REQUEST_FEEDBACKS"}}function o(){return function(e){return Store.dispatch(n()),fetch("/api/feedbacks").then(function(e){return e.json()}).then(function(e){return Store.dispatch(i(e))})}}function i(e){return{type:"RECEIVE_FEEDBACKS",feedbacks:e,receivedAt:Date.now()}}function u(e){return!(e.feedbacks.receivedAt&&moment(e.feedbacks.receivedAt)>moment().subtract(10,"minutes"))}function c(){return function(e,t){return u(Store.getState())?Store.dispatch(o()):Promise.resolve()}}Object.defineProperty(r,"__esModule",{value:!0}),r.requestFeedbacks=n,r.fetchFeedbacks=o,r.receiveFeedbacks=i,r.shouldFetchFeedbacks=u,r.fetchFeedbacksIfNeeded=c},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./counter");Object.keys(n).forEach(function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}})});var o=e("./todos");Object.keys(o).forEach(function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}})});var i=e("./user");Object.keys(i).forEach(function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})});var u=e("./feedbacks");Object.keys(u).forEach(function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return u[e]}})})},{"./counter":1,"./feedbacks":2,"./todos":4,"./user":5}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=0;r.addTodo=function(e){return{type:"ADD_TODO",id:n++,text:e}},r.setVisibilityFilter=function(e){return{type:"SET_VISIBILITY_FILTER",filter:e}},r.toggleTodo=function(e){return{type:"TOGGLE_TODO",id:e}}},{}],5:[function(e,t,r){"use strict"},{}],6:[function(e,t,r){"use strict";e("./store.js"),window.App={},App.routesLoad=function(){riot.visit=function(e){riot.mount("#page","page-"+e)},riot.route("/",function(){riot.visit("index"),console.log("root route is called")}),riot.route("/about",function(){riot.visit("about")}),riot.route("/contact",function(){riot.visit("contact")}),riot.route("/counter",function(){riot.visit("counter")}),riot.route("/forgot-password",function(){riot.visit("forgot-password")}),riot.route("/login",function(){riot.visit("login")}),riot.route("/privacy",function(){riot.visit("privacy")}),riot.route("/register",function(){riot.visit("register")}),riot.route("/search?keyword=*",function(e){riot.visit("search"),console.log("Search keyword: "+e)}),riot.route("/terms",function(){riot.visit("terms")}),riot.route(function(e,t,r){console.log("Collection is: "+e),console.log("id is: "+t),console.log("action is: "+r)}),riot.route.base("/"),riot.route.start(!0),App.routesLoad=function(){}};(function(){return $.getJSON("/api/feedbacks").then(function(e){riot.mount("*"),App.routesLoad()}),{}})()},{"./store.js":12}],7:[function(e,t,r){"use strict";function n(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments[1];switch(t.type){case"INCREMENT":return e+1;case"DECREMENT":return e-1;default:return e}}Object.defineProperty(r,"__esModule",{value:!0}),r.counter=n},{}],8:[function(e,t,r){"use strict";function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"REQUEST_FEEDBACKS":return e;case"RECEIVE_FEEDBACKS":return Object.assign({},t.feedbacks,{receivedAt:t.receivedAt});default:return e}}Object.defineProperty(r,"__esModule",{value:!0}),r.feedbacks=n},{}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./counter");Object.keys(n).forEach(function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}})});var o=e("./feedbacks");Object.keys(o).forEach(function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}})});var i=e("./todos");Object.keys(i).forEach(function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})});var u=e("./user");Object.keys(u).forEach(function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return u[e]}})})},{"./counter":7,"./feedbacks":8,"./todos":10,"./user":11}],10:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"ADD_TODO":return{id:t.id,text:t.text,completed:!1};case"TOGGLE_TODO":return e.id!==t.id?e:Object.assign({},e,{completed:!e.completed});default:return e}}function i(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];switch(t.type){case"ADD_TODO":return[].concat(n(e),[o(void 0,t)]);case"TOGGLE_TODO":return e.map(function(e){o(e,t)});default:return e}}function u(){var e=arguments.length<=0||void 0===arguments[0]?"SHOW_ALL":arguments[0],t=arguments[1];switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}}Object.defineProperty(r,"__esModule",{value:!0}),r.todo=o,r.todos=i,r.visibilityFilter=u},{}],11:[function(e,t,r){"use strict";function n(e,t){switch(e||(e=0),t.type){case"USER_CREATE":return{username:t.username,email:t.email,name:t.name,firstName:t.firstName,lastName:t.lastName,created_at:"",updated_at:"",passwordDigest:""};default:return e}}Object.defineProperty(r,"__esModule",{value:!0}),r.user=n},{}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}var i=e("./actions"),u=o(i),c=e("./reducers"),a=o(c),f=e("redux-thunk"),s=n(f),d=e("redux-logger"),l=n(d),p={todosVisibilityFilter:"SHOW_ALL",todos:[],todo:{},user:{},counter:0,feedbacks:{count:0,count_nolimit:0,items:[],total:0,ratings:[1,2,3,4,5]}},v=(0,l["default"])(),g=function(e){return function(e){return function(t){try{return e(t)}catch(r){throw console.error("Caught an exception!",r),r}}}},y=Redux.combineReducers(a),b=Redux.createStore(y,p,Redux.applyMiddleware(s["default"],g,v));window.Store=b,window.actions=u,window.reducers=a,riot.mixin("store",{init:function(){var e=this;window.dispatch=b.dispatch,_.each(Object.keys(u),function(t){e[t]=function(){return dispatch(u[t]())}}),e.on("mount",function(){e.store=b.getState(),b.subscribe(function(){console.log("called"),e.store=b.getState(),e.update()}),console.log("Store mount is called for a tag: "+e.root.tagName),e.update()}),e.on("update",function(){console.log("Store update is called for a tag: "+e.root.tagName)})}})},{"./actions":3,"./reducers":9,"redux-logger":13,"redux-thunk":14}],13:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e,t,r,i){switch("undefined"==typeof e?"undefined":o(e)){case"object":return"function"==typeof e[i]?e[i].apply(e,n(r)):e[i];case"function":return e(t);default:return e}}function u(){function e(){k.forEach(function(e,t){var r=e.started,o=e.startedTime,c=e.action,a=e.prevState,s=e.error,l=e.took,p=e.nextState,g=k[t+1];g&&(p=g.prevState,l=g.started-r);var b=O(c),h="function"==typeof d?d(function(){return p},c):d,m=f(o),E=j.title?"color: "+j.title(b)+";":null,_="action "+(y?m:"")+" "+b.type+" "+(v?"(in "+l.toFixed(2)+" ms)":"");try{h?j.title?u.groupCollapsed("%c "+_,E):u.groupCollapsed(_):j.title?u.group("%c "+_,E):u.group(_)}catch(S){u.log(_)}var w=i(n,b,[a],"prevState"),T=i(n,b,[b],"action"),A=i(n,b,[s,a],"error"),x=i(n,b,[p],"nextState");w&&(j.prevState?u[w]("%c prev state","color: "+j.prevState(a)+"; font-weight: bold",a):u[w]("prev state",a)),T&&(j.action?u[T]("%c action","color: "+j.action(b)+"; font-weight: bold",b):u[T]("action",b)),s&&A&&(j.error?u[A]("%c error","color: "+j.error(s,a)+"; font-weight: bold",s):u[A]("error",s)),x&&(j.nextState?u[x]("%c next state","color: "+j.nextState(p)+"; font-weight: bold",p):u[x]("next state",p));try{u.groupEnd()}catch(S){u.log("—— log end ——")}}),k.length=0}var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=t.level,n=void 0===r?"log":r,o=t.logger,u=void 0===o?console:o,c=t.logErrors,a=void 0===c?!0:c,d=t.collapsed,l=t.predicate,p=t.duration,v=void 0===p?!1:p,g=t.timestamp,y=void 0===g?!0:g,b=t.transformer,h=t.stateTransformer,m=void 0===h?function(e){return e}:h,E=t.actionTransformer,O=void 0===E?function(e){return e}:E,_=t.errorTransformer,S=void 0===_?function(e){return e}:_,w=t.colors,j=void 0===w?{title:function(){return"#000000"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}}:w;if("undefined"==typeof u)return function(){return function(e){return function(t){return e(t)}}};b&&console.error("Option 'transformer' is deprecated, use stateTransformer instead");var k=[];return function(t){var r=t.getState;return function(t){return function(n){if("function"==typeof l&&!l(r,n))return t(n);var o={};k.push(o),o.started=s.now(),o.startedTime=new Date,o.prevState=m(r()),o.action=n;var i=void 0;if(a)try{i=t(n)}catch(u){o.error=S(u)}else i=t(n);if(o.took=s.now()-o.started,o.nextState=m(r()),e(),o.error)throw o.error;return i}}}}var c=function(e,t){return new Array(t+1).join(e)},a=function(e,t){return c("0",t-e.toString().length)+e},f=function(e){return"@ "+a(e.getHours(),2)+":"+a(e.getMinutes(),2)+":"+a(e.getSeconds(),2)+"."+a(e.getMilliseconds(),3)},s="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date;t.exports=u},{}],14:[function(e,t,r){"use strict";function n(e){var t=e.dispatch,r=e.getState;return function(e){return function(n){return"function"==typeof n?n(t,r):e(n)}}}r.__esModule=!0,r["default"]=n},{}]},{},[6]);
//# sourceMappingURL=app.js.map
