{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app.js","frontend/js/actions/counter.js","frontend/js/actions/index.js","frontend/js/actions/todos.js","frontend/js/actions/user.js","frontend/js/app.js","frontend/js/reducers/counter.js","frontend/js/reducers/feedbacks.js","frontend/js/reducers/index.js","frontend/js/reducers/todos.js","frontend/js/reducers/user.js","frontend/js/store.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","incrementCounter","type","decrementCounter","Object","defineProperty","value",2,"_counter","keys","forEach","key","enumerable","get","_todos","_user","./counter","./todos","./user",3,"nextTodoId","addTodo","text","id","setVisibilityFilter","filter","toggleTodo",4,5,"window","App","routesLoad","riot","visit","pageName","mount","route","console","log","keyword","collection","action","base","start","$","getJSON","then","data","./store.js",6,"counter","state","_","defaults",7,"feedbacks",8,"_feedbacks","./feedbacks",9,"_toConsumableArray","arr","Array","isArray","arr2","from","todo","completed","assign","todos","concat","undefined","map","visibilityFilter",10,"user","username","email","name","firstName","lastName","created_at","updated_at","passwordDigest",11,"_interopRequireWildcard","obj","__esModule","newObj","prototype","hasOwnProperty","storeLogic","initialState","reducers","todosVisibilityFilter","_actions","actions","_reducers","count","count_nolimit","items","total","ratings","Store","Redux","createStore","subscribe","getState","mixin","init","self","this","dispatch","on","store","root","tagName","update","./actions","./reducers"],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.incrementCounter = incrementCounter;\nexports.decrementCounter = decrementCounter;\nfunction incrementCounter() {\n    return {\n        type: 'INCREMENT'\n    };\n}\n\nfunction decrementCounter() {\n    return {\n        type: 'DECREMENT'\n    };\n}\n\n//\n// export function decrementCounter() {\n//     return {\n//         type: 'DECREMENT'\n//     };\n// };\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _counter = require('./counter');\n\nObject.keys(_counter).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _counter[key];\n    }\n  });\n});\n\nvar _todos = require('./todos');\n\nObject.keys(_todos).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _todos[key];\n    }\n  });\n});\n\nvar _user = require('./user');\n\nObject.keys(_user).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _user[key];\n    }\n  });\n});\n\n},{\"./counter\":1,\"./todos\":3,\"./user\":4}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n// maybe add constants folder\nvar nextTodoId = 0;\n\nvar addTodo = exports.addTodo = function addTodo(text) {\n    return {\n        type: 'ADD_TODO',\n        id: nextTodoId++,\n        text: text\n    };\n};\n\nvar setVisibilityFilter = exports.setVisibilityFilter = function setVisibilityFilter(filter) {\n    return {\n        type: 'SET_VISIBILITY_FILTER',\n        filter: filter\n    };\n};\n\nvar toggleTodo = exports.toggleTodo = function toggleTodo(id) {\n    return {\n        type: 'TOGGLE_TODO',\n        id: id\n    };\n};\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nrequire('./store.js');\n\nwindow.App = {}; // import './constants';\n// import {Store} from './store.js';\n// import * as API from './api';\n\n\nApp.routesLoad = function () {\n    riot.visit = function (pageName) {\n        riot.mount('#page', 'page-' + pageName);\n    };\n\n    riot.route('/', function () {\n        riot.visit('index');\n        console.log('root route is called');\n    });\n\n    riot.route('/about', function () {\n        riot.visit('about');\n    });\n\n    riot.route('/contact', function () {\n        riot.visit('contact');\n    });\n\n    riot.route('/counter', function () {\n        riot.visit('counter');\n    });\n\n    riot.route('/forgot-password', function () {\n        riot.visit('forgot-password');\n    });\n\n    riot.route('/login', function () {\n        riot.visit('login');\n    });\n\n    riot.route('/privacy', function () {\n        riot.visit('privacy');\n    });\n\n    riot.route('/register', function () {\n        riot.visit('register');\n    });\n\n    riot.route('/search?keyword=*', function (keyword) {\n        riot.visit('search');\n        console.log('Search keyword: ' + keyword);\n    });\n\n    riot.route('/terms', function () {\n        riot.visit('terms');\n    });\n\n    riot.route(function (collection, id, action) {\n        console.log('Collection is: ' + collection);\n        console.log('id is: ' + id);\n        console.log('action is: ' + action);\n    });\n\n    riot.route.base('/');\n    riot.route.start(true);\n\n    App.routesLoad = function () {}; // so nobody can call it again\n};\n\nvar AppInitializer = function () {\n    $.getJSON('/api/data.json').then(function (data) {\n        // window.store.feedbacks = data;\n        riot.mount('*');\n        App.routesLoad();\n    });\n\n    return {};\n}();\n\n},{\"./store.js\":11}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.counter = counter;\nfunction counter(state, action) {\n    _.defaults(state, 0);\n\n    switch (action.type) {\n        case 'INCREMENT':\n            return state + 1;\n        case 'DECREMENT':\n            return state - 1;\n        default:\n            return state;\n    }\n}\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.feedbacks = feedbacks;\nfunction feedbacks(state, action) {\n    switch (action.type) {\n        case 'GET_FEEDBACKS':\n            return state;\n        default:\n            return state;\n    }\n}\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _counter = require('./counter');\n\nObject.keys(_counter).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _counter[key];\n    }\n  });\n});\n\nvar _feedbacks = require('./feedbacks');\n\nObject.keys(_feedbacks).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _feedbacks[key];\n    }\n  });\n});\n\nvar _todos = require('./todos');\n\nObject.keys(_todos).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _todos[key];\n    }\n  });\n});\n\nvar _user = require('./user');\n\nObject.keys(_user).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _user[key];\n    }\n  });\n});\n\n},{\"./counter\":6,\"./feedbacks\":7,\"./todos\":9,\"./user\":10}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.todo = todo;\nexports.todos = todos;\nexports.visibilityFilter = visibilityFilter;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// import undoable, { distinctState } from 'redux-undo'\n\nfunction todo(state, action) {\n    switch (action.type) {\n        case 'ADD_TODO':\n            return {\n                id: action.id,\n                text: action.text,\n                completed: false\n            };\n        case 'TOGGLE_TODO':\n            if (state.id !== action.id) {\n                return state;\n            }\n\n            return _.assign({}, state, {\n                completed: !state.completed\n            }); // Object.assign is ES6\n        default:\n            return state;\n    }\n}\n\nfunction todos(state, action) {\n    _.defaults(state, []);\n\n    switch (action.type) {\n        case 'ADD_TODO':\n            return [].concat(_toConsumableArray(state), [// this is ES6\n            todo(undefined, action)]);\n        case 'TOGGLE_TODO':\n            return state.map(function (t) {\n                todo(t, action);\n            });\n        default:\n            return state;\n    }\n}\n\nfunction visibilityFilter(state, action) {\n    _.defaults(state, 'SHOW_ALL');\n\n    switch (action.type) {\n        case 'SET_VISIBILITY_FILTER':\n            return action.filter;\n        default:\n            return state;\n    }\n}\n\n// const undoableTodos = undoable(todos, {\n//   filter: distinctState()\n// })\n\n// export default undoableTodos\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.user = user;\nfunction user(state, action) {\n    if (!state) {\n        state = 0;\n    }\n    switch (action.type) {\n        case 'USER_CREATE':\n            return {\n                username: action.username,\n                email: action.email,\n                name: action.name,\n                firstName: action.firstName,\n                lastName: action.lastName,\n                created_at: '',\n                updated_at: '',\n                passwordDigest: ''\n            };\n        default:\n            return state;\n    }\n}\n\n},{}],11:[function(require,module,exports){\n'use strict';\n\nvar _actions = require('./actions');\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _reducers = require('./reducers');\n\nvar reducers = _interopRequireWildcard(_reducers);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// REDUX HERE ==========================================\n//normalizr and camelCase libraries + Babel probably needed\n\nvar initialState = {\n    todosVisibilityFilter: 'SHOW_ALL',\n    todos: [],\n    todo: {},\n    user: {},\n    counter: 0,\n    feedbacks: {\n        count: 0,\n        count_nolimit: 0,\n        items: [],\n        total: 0,\n        ratings: [1, 2, 3, 4, 5]\n    }\n};\n\nfunction storeLogic(state, action) {\n    if (!state) {\n        state = initialState;\n    }\n\n    // maybe iterate from reducers object and create these:\n\n    return {\n        user: reducers.user(state.user, action),\n        todos: reducers.todos(state.todos, action),\n        todo: reducers.todo(state.todo, action),\n        counter: reducers.counter(state.counter, action),\n        todosVisibilityFilter: reducers.visibilityFilter(state.todosVisibilityFilter, action),\n        feedbacks: reducers.feedbacks(state.feedbacks, action)\n    };\n}\n\nwindow.Store = Redux.createStore(storeLogic);\nwindow.actions = actions;\nwindow.reducers = reducers;\n\nStore.subscribe(function () {\n    console.log(Store.getState());\n});\n\nriot.mixin('store', {\n    init: function init() {\n        var self = this;\n\n        Store = Store;\n        window.dispatch = window.Store.dispatch;\n\n        self.on('mount', function () {\n            self.store = Store.getState();\n\n            Store.subscribe(function () {\n                self.store = Store.getState();\n                // performance optimization: find which selector is used\n            });\n            console.log('Store mount is called for a tag: ' + self.root.tagName);\n            self.update();\n        });\n\n        self.on('update', function () {\n            console.log('Store update is called for a tag: ' + self.root.tagName);\n        });\n\n        // performance optimization: unsubscribe on unmount if its necessary\n\n        // register actions to the global namespace\n    }\n});\n\n},{\"./actions\":2,\"./reducers\":8}]},{},[5])\n\n","export function incrementCounter() {\n    return {\n        type: 'INCREMENT'\n    };\n}\n\nexport function decrementCounter() {\n    return {\n        type: 'DECREMENT'\n    };\n}\n\n//\n// export function decrementCounter() {\n//     return {\n//         type: 'DECREMENT'\n//     };\n// };\n","export * from './counter';\nexport * from './todos';\nexport * from './user';\n","// maybe add constants folder\nvar nextTodoId = 0;\n\nexport var addTodo = function(text) {\n    return {\n        type: 'ADD_TODO',\n        id: nextTodoId++,\n        text: text\n    };\n};\n\nexport var setVisibilityFilter = function(filter) {\n    return {\n        type: 'SET_VISIBILITY_FILTER',\n        filter: filter\n    };\n};\n\nexport var toggleTodo = function(id) {\n    return {\n        type: 'TOGGLE_TODO',\n        id: id\n    };\n};\n","\"use strict\";\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==","// import './constants';\n// import {Store} from './store.js';\n// import * as API from './api';\nimport './store.js';\n\nwindow.App = {};\n\nApp.routesLoad = function () {\n    riot.visit = function (pageName) {\n        riot.mount('#page', 'page-' + pageName);\n    };\n\n    riot.route('/', function() {\n        riot.visit('index');\n        console.log('root route is called');\n    });\n\n    riot.route('/about', function() {\n        riot.visit('about');\n    });\n\n    riot.route('/contact', function() {\n        riot.visit('contact');\n    });\n\n    riot.route('/counter', function() {\n        riot.visit('counter');\n    });\n\n    riot.route('/forgot-password', function() {\n        riot.visit('forgot-password');\n    });\n\n    riot.route('/login', function() {\n        riot.visit('login');\n    });\n\n    riot.route('/privacy', function() {\n        riot.visit('privacy');\n    });\n\n    riot.route('/register', function() {\n        riot.visit('register');\n    });\n\n    riot.route('/search?keyword=*', function(keyword) {\n        riot.visit('search');\n        console.log('Search keyword: ' + keyword);\n    });\n\n    riot.route('/terms', function() {\n        riot.visit('terms');\n    });\n\n    riot.route(function(collection, id, action) {\n        console.log('Collection is: ' + collection);\n        console.log('id is: ' + id);\n        console.log('action is: ' + action);\n    });\n\n    riot.route.base('/');\n    riot.route.start(true);\n\n    App.routesLoad = function(){}; // so nobody can call it again\n};\n\nvar AppInitializer = (function () {\n    $.getJSON('/api/data.json').then(function (data) {\n        // window.store.feedbacks = data;\n        riot.mount('*');\n        App.routesLoad();\n    });\n\n    return {};\n})();\n","export function counter(state, action) {\n    _.defaults(state, 0);\n\n    switch (action.type) {\n    case 'INCREMENT':\n        return state + 1;\n    case 'DECREMENT':\n        return state - 1;\n    default:\n        return state;\n    }\n}\n","export function feedbacks(state, action) {\n    switch(action.type) {\n        case 'GET_FEEDBACKS':\n            return state;\n        default:\n            return state;\n    }\n}\n","export * from './counter';\nexport * from './feedbacks';\nexport * from './todos';\nexport * from './user';\n","// import undoable, { distinctState } from 'redux-undo'\n\nexport function todo(state, action) {\n    switch (action.type) {\n    case 'ADD_TODO':\n        return {\n            id: action.id,\n            text: action.text,\n            completed: false\n        };\n    case 'TOGGLE_TODO':\n        if (state.id !== action.id) {\n            return state;\n        }\n\n        return _.assign({}, state, {\n            completed: !state.completed\n        }); // Object.assign is ES6\n    default:\n        return state;\n    }\n}\n\nexport function todos(state, action) {\n    _.defaults(state, []);\n\n    switch (action.type) {\n    case 'ADD_TODO':\n        return [\n            ...state, // this is ES6\n            todo(undefined, action)\n        ];\n    case 'TOGGLE_TODO':\n        return state.map(function(t) {\n            todo(t, action);\n        });\n    default:\n        return state;\n    }\n}\n\nexport function visibilityFilter(state, action) {\n    _.defaults(state, 'SHOW_ALL');\n\n    switch (action.type) {\n    case 'SET_VISIBILITY_FILTER':\n        return action.filter;\n    default:\n        return state;\n    }\n}\n\n// const undoableTodos = undoable(todos, {\n//   filter: distinctState()\n// })\n\n// export default undoableTodos\n","export function user(state, action) {\n    if(!state) { state = 0; }\n    switch(action.type) {\n        case 'USER_CREATE':\n            return {\n                username: action.username,\n                email: action.email,\n                name: action.name,\n                firstName: action.firstName,\n                lastName: action.lastName,\n                created_at: '',\n                updated_at: '',\n                passwordDigest: ''\n            };\n        default:\n            return state;\n    }\n}\n","import * as actions from './actions';\nimport * as reducers from './reducers';\n\n// REDUX HERE ==========================================\n//normalizr and camelCase libraries + Babel probably needed\n\nvar initialState = {\n    todosVisibilityFilter: 'SHOW_ALL',\n    todos: [],\n    todo: {},\n    user: {},\n    counter: 0,\n    feedbacks: {\n        count: 0,\n        count_nolimit: 0,\n        items: [],\n        total: 0,\n        ratings: [1, 2, 3, 4, 5]\n    }\n};\n\nfunction storeLogic(state, action) {\n    if (!state) {\n        state = initialState;\n    }\n\n    // maybe iterate from reducers object and create these:\n\n    return {\n        user: reducers.user(state.user, action),\n        todos: reducers.todos(state.todos, action),\n        todo: reducers.todo(state.todo, action),\n        counter: reducers.counter(state.counter, action),\n        todosVisibilityFilter: reducers.visibilityFilter(state.todosVisibilityFilter, action),\n        feedbacks: reducers.feedbacks(state.feedbacks, action)\n    };\n}\n\nwindow.Store = Redux.createStore(storeLogic);\nwindow.actions = actions;\nwindow.reducers = reducers;\n\nStore.subscribe(function() {\n    console.log(Store.getState());\n});\n\nriot.mixin('store', {\n    init: function() {\n        var self = this;\n\n        Store = Store;\n        window.dispatch = window.Store.dispatch;\n\n        self.on('mount', function() {\n            self.store = Store.getState();\n\n            Store.subscribe(function() {\n                self.store = Store.getState();\n                // performance optimization: find which selector is used\n            });\n            console.log('Store mount is called for a tag: ' + self.root.tagName);\n            self.update();\n        });\n\n        self.on('update', function() {\n            console.log('Store update is called for a tag: ' + self.root.tagName);\n        });\n\n        // performance optimization: unsubscribe on unmount if its necessary\n\n        // register actions to the global namespace\n    }\n});\n"],"sourceRoot":"/source/"}