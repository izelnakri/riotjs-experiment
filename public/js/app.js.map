{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app.js","frontend/js/actions/counter.js","frontend/js/actions/index.js","frontend/js/actions/todos.js","frontend/js/actions/user.js","frontend/js/app.js","frontend/js/reducers/counter.js","frontend/js/reducers/feedbacks.js","frontend/js/reducers/index.js","frontend/js/reducers/todos.js","frontend/js/reducers/user.js","frontend/js/store.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","incrementCounter","type","decrementCounter","Object","defineProperty","value",2,"_counter","keys","forEach","key","enumerable","get","_todos","_user","./counter","./todos","./user",3,"nextTodoId","addTodo","text","id","setVisibilityFilter","filter","toggleTodo",4,5,"window","App","routesLoad","riot","visit","pageName","mount","route","console","log","keyword","collection","action","base","start","$","getJSON","then","data","store","./store.js",6,"counter","state","_","defaults",7,"feedbacks",8,"_feedbacks","./feedbacks",9,"_toConsumableArray","arr","Array","isArray","arr2","from","todo","completed","assign","todos","concat","undefined","map","visibilityFilter",10,"user","username","email","name","firstName","lastName","created_at","updated_at","passwordDigest",11,"_interopRequireWildcard","obj","__esModule","newObj","prototype","hasOwnProperty","storeLogic","initialState","reducers","todosVisibilityFilter","_actions","_reducers","count","count_nolimit","items","total","ratings","Store","Redux","createStore","subscribe","getState","mixin","init","self","this","dispatch","on","root","tagName","update","./actions","./reducers"],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.incrementCounter = incrementCounter;\nexports.decrementCounter = decrementCounter;\nfunction incrementCounter() {\n    return {\n        type: 'INCREMENT'\n    };\n}\n\nfunction decrementCounter() {\n    return {\n        type: 'DECREMENT'\n    };\n}\n\n//\n// export function decrementCounter() {\n//     return {\n//         type: 'DECREMENT'\n//     };\n// };\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _counter = require('./counter');\n\nObject.keys(_counter).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _counter[key];\n    }\n  });\n});\n\nvar _todos = require('./todos');\n\nObject.keys(_todos).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _todos[key];\n    }\n  });\n});\n\nvar _user = require('./user');\n\nObject.keys(_user).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _user[key];\n    }\n  });\n});\n\n},{\"./counter\":1,\"./todos\":3,\"./user\":4}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n// maybe add constants folder\nvar nextTodoId = 0;\n\nvar addTodo = exports.addTodo = function addTodo(text) {\n    return {\n        type: 'ADD_TODO',\n        id: nextTodoId++,\n        text: text\n    };\n};\n\nvar setVisibilityFilter = exports.setVisibilityFilter = function setVisibilityFilter(filter) {\n    return {\n        type: 'SET_VISIBILITY_FILTER',\n        filter: filter\n    };\n};\n\nvar toggleTodo = exports.toggleTodo = function toggleTodo(id) {\n    return {\n        type: 'TOGGLE_TODO',\n        id: id\n    };\n};\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nrequire('./store.js');\n\nwindow.App = {}; // import './constants';\n// import {Store} from './store.js';\n// import * as API from './api';\n\n\nApp.routesLoad = function () {\n    riot.visit = function (pageName) {\n        riot.mount('#page', 'page-' + pageName);\n    };\n\n    riot.route('/', function () {\n        riot.visit('index');\n        console.log('root route is called');\n    });\n\n    riot.route('/about', function () {\n        riot.visit('about');\n    });\n\n    riot.route('/contact', function () {\n        riot.visit('contact');\n    });\n\n    riot.route('/counter', function () {\n        riot.visit('counter');\n    });\n\n    riot.route('/forgot-password', function () {\n        riot.visit('forgot-password');\n    });\n\n    riot.route('/login', function () {\n        riot.visit('login');\n    });\n\n    riot.route('/privacy', function () {\n        riot.visit('privacy');\n    });\n\n    riot.route('/register', function () {\n        riot.visit('register');\n    });\n\n    riot.route('/search?keyword=*', function (keyword) {\n        riot.visit('search');\n        console.log('Search keyword: ' + keyword);\n    });\n\n    riot.route('/terms', function () {\n        riot.visit('terms');\n    });\n\n    riot.route(function (collection, id, action) {\n        console.log('Collection is: ' + collection);\n        console.log('id is: ' + id);\n        console.log('action is: ' + action);\n    });\n\n    riot.route.base('/');\n    riot.route.start(true);\n\n    App.routesLoad = function () {}; // so nobody can call it again\n};\n\nvar AppInitializer = function () {\n    $.getJSON('/api/data.json').then(function (data) {\n        window.store = data;\n        riot.mount('*');\n        App.routesLoad();\n    });\n\n    return {};\n}();\n\n},{\"./store.js\":11}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.counter = counter;\nfunction counter(state, action) {\n    _.defaults(state, 0);\n\n    switch (action.type) {\n        case 'INCREMENT':\n            return state + 1;\n        case 'DECREMENT':\n            return state - 1;\n        default:\n            return state;\n    }\n}\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.feedbacks = feedbacks;\nfunction feedbacks(state, action) {\n    switch (action.type) {\n        case 'GET_FEEDBACKS':\n            return state;\n        default:\n            return state;\n    }\n}\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _counter = require('./counter');\n\nObject.keys(_counter).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _counter[key];\n    }\n  });\n});\n\nvar _feedbacks = require('./feedbacks');\n\nObject.keys(_feedbacks).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _feedbacks[key];\n    }\n  });\n});\n\nvar _todos = require('./todos');\n\nObject.keys(_todos).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _todos[key];\n    }\n  });\n});\n\nvar _user = require('./user');\n\nObject.keys(_user).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _user[key];\n    }\n  });\n});\n\n},{\"./counter\":6,\"./feedbacks\":7,\"./todos\":9,\"./user\":10}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.todo = todo;\nexports.todos = todos;\nexports.visibilityFilter = visibilityFilter;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// import undoable, { distinctState } from 'redux-undo'\n\nfunction todo(state, action) {\n    switch (action.type) {\n        case 'ADD_TODO':\n            return {\n                id: action.id,\n                text: action.text,\n                completed: false\n            };\n        case 'TOGGLE_TODO':\n            if (state.id !== action.id) {\n                return state;\n            }\n\n            return _.assign({}, state, {\n                completed: !state.completed\n            }); // Object.assign is ES6\n        default:\n            return state;\n    }\n}\n\nfunction todos(state, action) {\n    _.defaults(state, []);\n\n    switch (action.type) {\n        case 'ADD_TODO':\n            return [].concat(_toConsumableArray(state), [// this is ES6\n            todo(undefined, action)]);\n        case 'TOGGLE_TODO':\n            return state.map(function (t) {\n                todo(t, action);\n            });\n        default:\n            return state;\n    }\n}\n\nfunction visibilityFilter(state, action) {\n    _.defaults(state, 'SHOW_ALL');\n\n    switch (action.type) {\n        case 'SET_VISIBILITY_FILTER':\n            return action.filter;\n        default:\n            return state;\n    }\n}\n\n// const undoableTodos = undoable(todos, {\n//   filter: distinctState()\n// })\n\n// export default undoableTodos\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.user = user;\nfunction user(state, action) {\n    if (!state) {\n        state = 0;\n    }\n    switch (action.type) {\n        case 'USER_CREATE':\n            return {\n                username: action.username,\n                email: action.email,\n                name: action.name,\n                firstName: action.firstName,\n                lastName: action.lastName,\n                created_at: '',\n                updated_at: '',\n                passwordDigest: ''\n            };\n        default:\n            return state;\n    }\n}\n\n},{}],11:[function(require,module,exports){\n'use strict';\n\nvar _actions = require('./actions');\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _reducers = require('./reducers');\n\nvar reducers = _interopRequireWildcard(_reducers);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// REDUX HERE ==========================================\n//normalizr and camelCase libraries + Babel probably needed\n\nvar initialState = {\n    todosVisibilityFilter: 'SHOW_ALL',\n    todos: [],\n    todo: {},\n    user: {},\n    counter: 0,\n    feedbacks: {\n        count: 0,\n        count_nolimit: 0,\n        items: [],\n        total: 0,\n        ratings: [1, 2, 3, 4, 5]\n    }\n};\n\nfunction storeLogic(state, action) {\n    if (!state) {\n        state = initialState;\n    }\n\n    // maybe iterate from reducers object and create these:\n\n    return {\n        user: reducers.user(state.user, action),\n        todos: reducers.todos(state.todos, action),\n        todo: reducers.todo(state.todo, action),\n        counter: reducers.counter(state.counter, action),\n        todosVisibilityFilter: reducers.todosVisibilityFilter(state.todosVisibilityFilter, action),\n        feedbacks: reducers.feedbacks(state.feedbacks, action)\n    };\n    // namespace these reducers with ES6 imports:\n    // return {\n    //     user: user(state.user, action),\n    //     todos: todosReducer(state.todos, action),\n    //     todo: todoReducer(state.todo, action),\n    //     counter: counterReducer(state.counter, action),\n    //     todosVisibilityFilter: todosVisibilityFilter(state.todosVisibilityFilter, action),\n    //     feedbacks: feedbacksReducer(state.feedbacks, action)\n    // };\n}\n\nwindow.Store = Redux.createStore(storeLogic);\n\nStore.subscribe(function () {\n    console.log(Store.getState());\n});\n\nriot.mixin('store', {\n    init: function init() {\n        var self = this;\n\n        Store = Store;\n        dispatch = Store.dispatch;\n\n        self.on('mount', function () {\n            self.store = Store.getState();\n\n            Store.subscribe(function () {\n                self.store = Store.getState();\n                // performance optimization: find which selector is used\n            });\n            console.log('Store mount is called for a tag: ' + self.root.tagName);\n            self.update();\n        });\n\n        self.on('update', function () {\n            console.log('Store update is called for a tag: ' + self.root.tagName);\n        });\n\n        // performance optimization: unsubscribe on unmount if its necessary\n\n        // register actions to the global namespace\n    }\n});\n\n},{\"./actions\":2,\"./reducers\":8}]},{},[5])\n\n","export function incrementCounter() {\n    return {\n        type: 'INCREMENT'\n    };\n}\n\nexport function decrementCounter() {\n    return {\n        type: 'DECREMENT'\n    };\n}\n\n//\n// export function decrementCounter() {\n//     return {\n//         type: 'DECREMENT'\n//     };\n// };\n","export * from './counter';\nexport * from './todos';\nexport * from './user';\n","// maybe add constants folder\nvar nextTodoId = 0;\n\nexport var addTodo = function(text) {\n    return {\n        type: 'ADD_TODO',\n        id: nextTodoId++,\n        text: text\n    };\n};\n\nexport var setVisibilityFilter = function(filter) {\n    return {\n        type: 'SET_VISIBILITY_FILTER',\n        filter: filter\n    };\n};\n\nexport var toggleTodo = function(id) {\n    return {\n        type: 'TOGGLE_TODO',\n        id: id\n    };\n};\n","\"use strict\";\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==","// import './constants';\n// import {Store} from './store.js';\n// import * as API from './api';\nimport './store.js';\n\nwindow.App = {};\n\nApp.routesLoad = function () {\n    riot.visit = function (pageName) {\n        riot.mount('#page', 'page-' + pageName);\n    };\n\n    riot.route('/', function() {\n        riot.visit('index');\n        console.log('root route is called');\n    });\n\n    riot.route('/about', function() {\n        riot.visit('about');\n    });\n\n    riot.route('/contact', function() {\n        riot.visit('contact');\n    });\n\n    riot.route('/counter', function() {\n        riot.visit('counter');\n    });\n\n    riot.route('/forgot-password', function() {\n        riot.visit('forgot-password');\n    });\n\n    riot.route('/login', function() {\n        riot.visit('login');\n    });\n\n    riot.route('/privacy', function() {\n        riot.visit('privacy');\n    });\n\n    riot.route('/register', function() {\n        riot.visit('register');\n    });\n\n    riot.route('/search?keyword=*', function(keyword) {\n        riot.visit('search');\n        console.log('Search keyword: ' + keyword);\n    });\n\n    riot.route('/terms', function() {\n        riot.visit('terms');\n    });\n\n    riot.route(function(collection, id, action) {\n        console.log('Collection is: ' + collection);\n        console.log('id is: ' + id);\n        console.log('action is: ' + action);\n    });\n\n    riot.route.base('/');\n    riot.route.start(true);\n\n    App.routesLoad = function(){}; // so nobody can call it again\n};\n\nvar AppInitializer = (function () {\n    $.getJSON('/api/data.json').then(function (data) {\n        window.store = data;\n        riot.mount('*');\n        App.routesLoad();\n    });\n\n    return {};\n})();\n","export function counter(state, action) {\n    _.defaults(state, 0);\n\n    switch (action.type) {\n    case 'INCREMENT':\n        return state + 1;\n    case 'DECREMENT':\n        return state - 1;\n    default:\n        return state;\n    }\n}\n","export function feedbacks(state, action) {\n    switch(action.type) {\n        case 'GET_FEEDBACKS':\n            return state;\n        default:\n            return state;\n    }\n}\n","export * from './counter';\nexport * from './feedbacks';\nexport * from './todos';\nexport * from './user';\n","// import undoable, { distinctState } from 'redux-undo'\n\nexport function todo(state, action) {\n    switch (action.type) {\n    case 'ADD_TODO':\n        return {\n            id: action.id,\n            text: action.text,\n            completed: false\n        };\n    case 'TOGGLE_TODO':\n        if (state.id !== action.id) {\n            return state;\n        }\n\n        return _.assign({}, state, {\n            completed: !state.completed\n        }); // Object.assign is ES6\n    default:\n        return state;\n    }\n}\n\nexport function todos(state, action) {\n    _.defaults(state, []);\n\n    switch (action.type) {\n    case 'ADD_TODO':\n        return [\n            ...state, // this is ES6\n            todo(undefined, action)\n        ];\n    case 'TOGGLE_TODO':\n        return state.map(function(t) {\n            todo(t, action);\n        });\n    default:\n        return state;\n    }\n}\n\nexport function visibilityFilter(state, action) {\n    _.defaults(state, 'SHOW_ALL');\n\n    switch (action.type) {\n    case 'SET_VISIBILITY_FILTER':\n        return action.filter;\n    default:\n        return state;\n    }\n}\n\n// const undoableTodos = undoable(todos, {\n//   filter: distinctState()\n// })\n\n// export default undoableTodos\n","export function user(state, action) {\n    if(!state) { state = 0; }\n    switch(action.type) {\n        case 'USER_CREATE':\n            return {\n                username: action.username,\n                email: action.email,\n                name: action.name,\n                firstName: action.firstName,\n                lastName: action.lastName,\n                created_at: '',\n                updated_at: '',\n                passwordDigest: ''\n            };\n        default:\n            return state;\n    }\n}\n","import * as actions from './actions';\nimport * as reducers from './reducers';\n\n// REDUX HERE ==========================================\n//normalizr and camelCase libraries + Babel probably needed\n\nvar initialState = {\n    todosVisibilityFilter: 'SHOW_ALL',\n    todos: [],\n    todo: {},\n    user: {},\n    counter: 0,\n    feedbacks: {\n        count: 0,\n        count_nolimit: 0,\n        items: [],\n        total: 0,\n        ratings: [1, 2, 3, 4, 5]\n    }\n};\n\nfunction storeLogic(state, action) {\n    if (!state) {\n        state = initialState;\n    }\n\n    // maybe iterate from reducers object and create these:\n\n    return {\n        user: reducers.user(state.user, action),\n        todos: reducers.todos(state.todos, action),\n        todo: reducers.todo(state.todo, action),\n        counter: reducers.counter(state.counter, action),\n        todosVisibilityFilter: reducers.todosVisibilityFilter(state.todosVisibilityFilter, action),\n        feedbacks: reducers.feedbacks(state.feedbacks, action)\n    };\n    // namespace these reducers with ES6 imports:\n    // return {\n    //     user: user(state.user, action),\n    //     todos: todosReducer(state.todos, action),\n    //     todo: todoReducer(state.todo, action),\n    //     counter: counterReducer(state.counter, action),\n    //     todosVisibilityFilter: todosVisibilityFilter(state.todosVisibilityFilter, action),\n    //     feedbacks: feedbacksReducer(state.feedbacks, action)\n    // };\n}\n\nwindow.Store = Redux.createStore(storeLogic);\n\nStore.subscribe(function() {\n    console.log(Store.getState());\n});\n\nriot.mixin('store', {\n    init: function() {\n        var self = this;\n\n        Store = Store;\n        dispatch = Store.dispatch;\n\n        self.on('mount', function() {\n            self.store = Store.getState();\n\n            Store.subscribe(function() {\n                self.store = Store.getState();\n                // performance optimization: find which selector is used\n            });\n            console.log('Store mount is called for a tag: ' + self.root.tagName);\n            self.update();\n        });\n\n        self.on('update', function() {\n            console.log('Store update is called for a tag: ' + self.root.tagName);\n        });\n\n        // performance optimization: unsubscribe on unmount if its necessary\n\n        // register actions to the global namespace\n    }\n});\n"],"sourceRoot":"/source/"}