{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app.js","frontend/js/actions/counter.js","frontend/js/actions/feedbacks.js","frontend/js/actions/index.js","frontend/js/actions/todos.js","frontend/js/actions/user.js","frontend/js/app.js","frontend/js/reducers/counter.js","frontend/js/reducers/feedbacks.js","frontend/js/reducers/index.js","frontend/js/reducers/todos.js","frontend/js/reducers/user.js","frontend/js/store.js","node_modules/redux-logger/lib/index.js","node_modules/redux-thunk/lib/index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","incrementCounter","type","decrementCounter","Object","defineProperty","value",2,"requestFeedbacks","fetchFeedbacks","dispatch","Store","fetch","then","response","json","receiveFeedbacks","feedbacks","receivedAt","Date","now","shouldFetchFeedbacks","state","moment","subtract","fetchFeedbacksIfNeeded","getState","Promise","resolve",3,"_counter","keys","forEach","key","enumerable","get","_todos","_user","_feedbacks","./counter","./feedbacks","./todos","./user",4,"nextTodoId","addTodo","text","id","setVisibilityFilter","filter","toggleTodo",5,6,"window","App","routesLoad","riot","visit","pageName","mount","route","console","log","keyword","collection","action","base","start","$","getJSON","data","./store.js",7,"counter","arguments","undefined",8,"assign",9,10,"_toConsumableArray","arr","Array","isArray","arr2","from","todo","completed","todos","concat","map","visibilityFilter",11,"user","username","email","name","firstName","lastName","created_at","updated_at","passwordDigest",12,"_interopRequireDefault","obj","__esModule","default","_interopRequireWildcard","newObj","prototype","hasOwnProperty","_actions","actions","_reducers","reducers","_reduxThunk","_reduxThunk2","_reduxLogger","_reduxLogger2","initialState","todosVisibilityFilter","count","count_nolimit","items","total","ratings","logger","crashReporter","store","next","err","error","reducer","Redux","combineReducers","createStore","applyMiddleware","mixin","init","self","this","_","each","on","subscribe","update","root","tagName","./actions","./reducers","redux-logger","redux-thunk",13,"_typeof","Symbol","constructor","getLogLevel","level","payload","apply","createLogger","printBuffer","logBuffer","logEntry","started","startedTime","prevState","took","nextState","nextEntry","formattedAction","actionTransformer","isCollapsed","collapsed","formattedTime","formatTime","titleCSS","colors","title","timestamp","duration","toFixed","groupCollapsed","group","prevStateLevel","actionLevel","errorLevel","nextStateLevel","groupEnd","options","_options$level","_options$logger","_options$logErrors","logErrors","predicate","_options$duration","_options$timestamp","transformer","_options$stateTransfo","stateTransformer","_options$actionTransf","actn","_options$errorTransfo","errorTransformer","_options$colors","_ref","push","timer","returnedValue","repeat","str","times","join","pad","num","maxLength","toString","time","getHours","getMinutes","getSeconds","getMilliseconds","performance",14,"thunkMiddleware"],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.incrementCounter = incrementCounter;\nexports.decrementCounter = decrementCounter;\nfunction incrementCounter() {\n    return {\n        type: 'INCREMENT'\n    };\n}\n\nfunction decrementCounter() {\n    return {\n        type: 'DECREMENT'\n    };\n}\n\n//\n// export function decrementCounter() {\n//     return {\n//         type: 'DECREMENT'\n//     };\n// };\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.requestFeedbacks = requestFeedbacks;\nexports.fetchFeedbacks = fetchFeedbacks;\nexports.receiveFeedbacks = receiveFeedbacks;\nexports.shouldFetchFeedbacks = shouldFetchFeedbacks;\nexports.fetchFeedbacksIfNeeded = fetchFeedbacksIfNeeded;\nfunction requestFeedbacks() {\n    return {\n        type: 'REQUEST_FEEDBACKS'\n    };\n}\n\nfunction fetchFeedbacks() {\n\n    return function (dispatch) {\n        Store.dispatch(requestFeedbacks());\n\n        return fetch('/api/feedbacks').then(function (response) {\n            return response.json();\n        }).then(function (json) {\n            return Store.dispatch(receiveFeedbacks(json));\n        });\n    };\n}\n\nfunction receiveFeedbacks(feedbacks) {\n    return {\n        type: 'RECEIVE_FEEDBACKS',\n        feedbacks: feedbacks,\n        receivedAt: Date.now()\n    };\n}\n\nfunction shouldFetchFeedbacks(state) {\n    if (state.feedbacks.receivedAt && moment(state.feedbacks.receivedAt) > moment().subtract(10, 'minutes')) {\n        return false;\n    }\n\n    return true;\n}\n\nfunction fetchFeedbacksIfNeeded() {\n    return function (dispatch, getState) {\n        if (shouldFetchFeedbacks(Store.getState())) {\n            // Dispatch a thunk from thunk!\n            return Store.dispatch(fetchFeedbacks());\n        } else {\n            // Let the calling code know there's nothing to wait for.\n            return Promise.resolve();\n        }\n    };\n}\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _counter = require('./counter');\n\nObject.keys(_counter).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _counter[key];\n    }\n  });\n});\n\nvar _todos = require('./todos');\n\nObject.keys(_todos).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _todos[key];\n    }\n  });\n});\n\nvar _user = require('./user');\n\nObject.keys(_user).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _user[key];\n    }\n  });\n});\n\nvar _feedbacks = require('./feedbacks');\n\nObject.keys(_feedbacks).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _feedbacks[key];\n    }\n  });\n});\n\n},{\"./counter\":1,\"./feedbacks\":2,\"./todos\":4,\"./user\":5}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n// maybe add constants folder\nvar nextTodoId = 0;\n\nvar addTodo = exports.addTodo = function addTodo(text) {\n    return {\n        type: 'ADD_TODO',\n        id: nextTodoId++,\n        text: text\n    };\n};\n\nvar setVisibilityFilter = exports.setVisibilityFilter = function setVisibilityFilter(filter) {\n    return {\n        type: 'SET_VISIBILITY_FILTER',\n        filter: filter\n    };\n};\n\nvar toggleTodo = exports.toggleTodo = function toggleTodo(id) {\n    return {\n        type: 'TOGGLE_TODO',\n        id: id\n    };\n};\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nrequire('./store.js');\n\nwindow.App = {};\n\nApp.routesLoad = function () {\n    riot.visit = function (pageName) {\n        riot.mount('#page', 'page-' + pageName);\n    };\n\n    riot.route('/', function () {\n        riot.visit('index');\n        console.log('root route is called');\n    });\n\n    riot.route('/about', function () {\n        riot.visit('about');\n    });\n\n    riot.route('/contact', function () {\n        riot.visit('contact');\n    });\n\n    riot.route('/counter', function () {\n        riot.visit('counter');\n    });\n\n    riot.route('/forgot-password', function () {\n        riot.visit('forgot-password');\n    });\n\n    riot.route('/login', function () {\n        riot.visit('login');\n    });\n\n    riot.route('/privacy', function () {\n        riot.visit('privacy');\n    });\n\n    riot.route('/register', function () {\n        riot.visit('register');\n    });\n\n    riot.route('/search?keyword=*', function (keyword) {\n        riot.visit('search');\n        console.log('Search keyword: ' + keyword);\n    });\n\n    riot.route('/terms', function () {\n        riot.visit('terms');\n    });\n\n    riot.route(function (collection, id, action) {\n        console.log('Collection is: ' + collection);\n        console.log('id is: ' + id);\n        console.log('action is: ' + action);\n    });\n\n    riot.route.base('/');\n    riot.route.start(true);\n\n    App.routesLoad = function () {}; // so nobody can call it again\n};\n\nvar AppInitializer = function () {\n    $.getJSON('/api/feedbacks').then(function (data) {\n        // window.store.feedbacks = data;\n        riot.mount('*');\n        App.routesLoad();\n    });\n\n    return {};\n}();\n\n},{\"./store.js\":12}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.counter = counter;\nfunction counter() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n    var action = arguments[1];\n\n    switch (action.type) {\n        case 'INCREMENT':\n            return state + 1;\n        case 'DECREMENT':\n            return state - 1;\n        default:\n            return state;\n    }\n}\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.feedbacks = feedbacks;\n// make the async creators with tunk middleware\n\nfunction feedbacks() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n\n    switch (action.type) {\n        case 'REQUEST_FEEDBACKS':\n            return state;\n        case 'RECEIVE_FEEDBACKS':\n            // return {\n            //     receivedAt: action.receivedAt\n            // };\n            return Object.assign({}, action.feedbacks, {\n                receivedAt: action.receivedAt\n            });\n        default:\n            return state;\n    }\n}\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _counter = require('./counter');\n\nObject.keys(_counter).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _counter[key];\n    }\n  });\n});\n\nvar _feedbacks = require('./feedbacks');\n\nObject.keys(_feedbacks).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _feedbacks[key];\n    }\n  });\n});\n\nvar _todos = require('./todos');\n\nObject.keys(_todos).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _todos[key];\n    }\n  });\n});\n\nvar _user = require('./user');\n\nObject.keys(_user).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _user[key];\n    }\n  });\n});\n\n},{\"./counter\":7,\"./feedbacks\":8,\"./todos\":10,\"./user\":11}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.todo = todo;\nexports.todos = todos;\nexports.visibilityFilter = visibilityFilter;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// import undoable, { distinctState } from 'redux-undo'\n\nfunction todo() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n\n    switch (action.type) {\n        case 'ADD_TODO':\n            return {\n                id: action.id,\n                text: action.text,\n                completed: false\n            };\n        case 'TOGGLE_TODO':\n            if (state.id !== action.id) {\n                return state;\n            }\n\n            return Object.assign({}, state, {\n                completed: !state.completed\n            });\n        default:\n            return state;\n    }\n}\n\nfunction todos() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n    var action = arguments[1];\n\n    switch (action.type) {\n        case 'ADD_TODO':\n            return [].concat(_toConsumableArray(state), [todo(undefined, action)]);\n        case 'TOGGLE_TODO':\n            return state.map(function (t) {\n                todo(t, action);\n            });\n        default:\n            return state;\n    }\n}\n\nfunction visibilityFilter() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? 'SHOW_ALL' : arguments[0];\n    var action = arguments[1];\n\n    switch (action.type) {\n        case 'SET_VISIBILITY_FILTER':\n            return action.filter;\n        default:\n            return state;\n    }\n}\n\n// const undoableTodos = undoable(todos, {\n//   filter: distinctState()\n// })\n\n// export default undoableTodos\n\n},{}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.user = user;\nfunction user(state, action) {\n    if (!state) {\n        state = 0;\n    }\n    switch (action.type) {\n        case 'USER_CREATE':\n            return {\n                username: action.username,\n                email: action.email,\n                name: action.name,\n                firstName: action.firstName,\n                lastName: action.lastName,\n                created_at: '',\n                updated_at: '',\n                passwordDigest: ''\n            };\n        default:\n            return state;\n    }\n}\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nvar _actions = require('./actions');\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _reducers = require('./reducers');\n\nvar reducers = _interopRequireWildcard(_reducers);\n\nvar _reduxThunk = require('redux-thunk');\n\nvar _reduxThunk2 = _interopRequireDefault(_reduxThunk);\n\nvar _reduxLogger = require('redux-logger');\n\nvar _reduxLogger2 = _interopRequireDefault(_reduxLogger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// REDUX HERE ==========================================\n//normalizr and camelCase libraries\n\nvar initialState = {\n    todosVisibilityFilter: 'SHOW_ALL',\n    todos: [],\n    todo: {},\n    user: {},\n    counter: 0,\n    feedbacks: {\n        count: 0,\n        count_nolimit: 0,\n        items: [],\n        total: 0,\n        ratings: [1, 2, 3, 4, 5]\n    }\n};\n\n/**\n * Logs all actions and states after they are dispatched.\n */\n// const logger = store => next => action => {\n//     console.group(action.type);\n//     console.info('dispatching', action);\n//     let result = next(action);\n//     console.log('next state', store.getState());\n//     console.groupEnd(action.type);\n//     return result;\n// };\n\nvar logger = (0, _reduxLogger2.default)();\n\n/**\n * Sends crash reports as state is updated and listeners are notified.\n */\nvar crashReporter = function crashReporter(store) {\n    return function (next) {\n        return function (action) {\n            try {\n                return next(action);\n            } catch (err) {\n                console.error('Caught an exception!', err);\n                // Raven.captureException(err, {\n                //   extra: {\n                //     action,\n                //     state: store.getState()\n                //   }\n                // });\n                throw err;\n            }\n        };\n    };\n};\n\n/**\n * Lets you dispatch a function instead of an action.\n * This function will receive `dispatch` and `getState` as arguments.\n *\n * Useful for early exits (conditions over `getState()`), as well\n * as for async control flow (it can `dispatch()` something else).\n *\n * `dispatch` will return the return value of the dispatched function.\n */\n// const thunk = store => next => action =>\n//     typeof action === 'function' ?\n//         action(store.dispatch, store.getState) :\n//         next(action);\n\n// You can use all of them! (It doesn’t mean you should.)\nvar reducer = Redux.combineReducers(reducers);\nvar Store = Redux.createStore(reducer, initialState, Redux.applyMiddleware(_reduxThunk2.default, crashReporter, logger));\n\nwindow.Store = Store;\nwindow.actions = actions;\nwindow.reducers = reducers;\n\nriot.mixin('store', {\n    init: function init() {\n        var self = this;\n\n        // store = Store.getState();\n        window.dispatch = Store.dispatch;\n\n        _.each(Object.keys(actions), function (action) {\n            self[action] = function () {\n                return dispatch(actions[action]());\n            };\n        });\n\n        self.on('mount', function () {\n            self.store = Store.getState();\n\n            Store.subscribe(function () {\n                console.log('called');\n                self.store = Store.getState();\n                self.update();\n                // performance optimization: find which selector is used\n            });\n\n            console.log('Store mount is called for a tag: ' + self.root.tagName);\n            self.update();\n        });\n\n        self.on('update', function () {\n            console.log('Store update is called for a tag: ' + self.root.tagName);\n        });\n\n        // performance optimization: unsubscribe on unmount if its necessary\n    }\n});\n\n// unused middlewares:\n\n/**\n * Schedules actions with { meta: { delay: N } } to be delayed by N milliseconds.\n * Makes `dispatch` return a function to cancel the timeout in this case.\n */\n// const timeoutScheduler = store => next => action => {\n//     if (!action.meta || !action.meta.delay) {\n//         return next(action);\n//     }\n//\n//     let timeoutId = setTimeout(\n//         () => next(action),\n//         action.meta.delay\n//     );\n//\n//     return function cancel() {\n//         clearTimeout(timeoutId);\n//     };\n// };\n\n/**\n * Schedules actions with { meta: { raf: true } } to be dispatched inside a rAF loop\n * frame.  Makes `dispatch` return a function to remove the action from the queue in\n * this case.\n */\n// const rafScheduler = store => next => {\n//     let queuedActions = [];\n//     let frame = null;\n//\n//     function loop() {\n//         frame = null;\n//         try {\n//             if (queuedActions.length) {\n//                 next(queuedActions.shift());\n//             }\n//         } finally {\n//             maybeRaf();\n//         }\n//     }\n//\n//     function maybeRaf() {\n//         if (queuedActions.length && !frame) {\n//             // frame = requestAnimationFrame(loop);\n//         }\n//     }\n//\n//     return action => {\n//         if (!action.meta || !action.meta.raf) {\n//             return next(action);\n//         }\n//\n//         queuedActions.push(action);\n//         maybeRaf();\n//\n//         return function cancel() {\n//             queuedActions = queuedActions.filter(a => a !== action);\n//         };\n//     };\n// };\n\n/**\n * Lets you dispatch promises in addition to actions.\n * If the promise is resolved, its result will be dispatched as an action.\n * The promise is returned from `dispatch` so the caller may handle rejection.\n */\n// const vanillaPromise = store => next => action => {\n//     if (typeof action.then !== 'function') {\n//         return next(action);\n//     }\n//\n//     return Promise.resolve(action).then(store.dispatch);\n// };\n\n/**\n * Lets you dispatch special actions with a { promise } field.\n *\n * This middleware will turn them into a single action at the beginning,\n * and a single success (or failure) action when the `promise` resolves.\n *\n * For convenience, `dispatch` will return the promise so the caller can wait.\n */\n// const readyStatePromise = store => next => action => {\n//     if (!action.promise) {\n//         return next(action);\n//     }\n//\n//     function makeAction(ready, data) {\n//         let newAction = Object.assign({}, action, { ready }, data);\n//         delete newAction.promise;\n//         return newAction;\n//     }\n//\n//     next(makeAction(false));\n//     return action.promise.then(\n//         result => next(makeAction(true, { result })),\n//         error => next(makeAction(true, { error }))\n//     );\n// };\n\n},{\"./actions\":3,\"./reducers\":9,\"redux-logger\":13,\"redux-thunk\":14}],13:[function(require,module,exports){\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\nvar repeat = function repeat(str, times) {\n  return new Array(times + 1).join(str);\n};\nvar pad = function pad(num, maxLength) {\n  return repeat(\"0\", maxLength - num.toString().length) + num;\n};\nvar formatTime = function formatTime(time) {\n  return \"@ \" + pad(time.getHours(), 2) + \":\" + pad(time.getMinutes(), 2) + \":\" + pad(time.getSeconds(), 2) + \".\" + pad(time.getMilliseconds(), 3);\n};\n\n// Use the new performance api to get better precision if available\nvar timer = typeof performance !== \"undefined\" && typeof performance.now === \"function\" ? performance : Date;\n\n/**\n * parse the level option of createLogger\n *\n * @property {string | function | object} level - console[level]\n * @property {object} action\n * @property {array} payload\n * @property {string} type\n */\n\nfunction getLogLevel(level, action, payload, type) {\n  switch (typeof level === \"undefined\" ? \"undefined\" : _typeof(level)) {\n    case \"object\":\n      return typeof level[type] === \"function\" ? level[type].apply(level, _toConsumableArray(payload)) : level[type];\n    case \"function\":\n      return level(action);\n    default:\n      return level;\n  }\n}\n\n/**\n * Creates logger with followed options\n *\n * @namespace\n * @property {object} options - options for logger\n * @property {string | function | object} options.level - console[level]\n * @property {boolean} options.duration - print duration of each action?\n * @property {boolean} options.timestamp - print timestamp with each action?\n * @property {object} options.colors - custom colors\n * @property {object} options.logger - implementation of the `console` API\n * @property {boolean} options.logErrors - should errors in action execution be caught, logged, and re-thrown?\n * @property {boolean} options.collapsed - is group collapsed?\n * @property {boolean} options.predicate - condition which resolves logger behavior\n * @property {function} options.stateTransformer - transform state before print\n * @property {function} options.actionTransformer - transform action before print\n * @property {function} options.errorTransformer - transform error before print\n */\n\nfunction createLogger() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n  var _options$level = options.level;\n  var level = _options$level === undefined ? \"log\" : _options$level;\n  var _options$logger = options.logger;\n  var logger = _options$logger === undefined ? console : _options$logger;\n  var _options$logErrors = options.logErrors;\n  var logErrors = _options$logErrors === undefined ? true : _options$logErrors;\n  var collapsed = options.collapsed;\n  var predicate = options.predicate;\n  var _options$duration = options.duration;\n  var duration = _options$duration === undefined ? false : _options$duration;\n  var _options$timestamp = options.timestamp;\n  var timestamp = _options$timestamp === undefined ? true : _options$timestamp;\n  var transformer = options.transformer;\n  var _options$stateTransfo = options.stateTransformer;\n  var // deprecated\n  stateTransformer = _options$stateTransfo === undefined ? function (state) {\n    return state;\n  } : _options$stateTransfo;\n  var _options$actionTransf = options.actionTransformer;\n  var actionTransformer = _options$actionTransf === undefined ? function (actn) {\n    return actn;\n  } : _options$actionTransf;\n  var _options$errorTransfo = options.errorTransformer;\n  var errorTransformer = _options$errorTransfo === undefined ? function (error) {\n    return error;\n  } : _options$errorTransfo;\n  var _options$colors = options.colors;\n  var colors = _options$colors === undefined ? {\n    title: function title() {\n      return \"#000000\";\n    },\n    prevState: function prevState() {\n      return \"#9E9E9E\";\n    },\n    action: function action() {\n      return \"#03A9F4\";\n    },\n    nextState: function nextState() {\n      return \"#4CAF50\";\n    },\n    error: function error() {\n      return \"#F20404\";\n    }\n  } : _options$colors;\n\n  // exit if console undefined\n\n  if (typeof logger === \"undefined\") {\n    return function () {\n      return function (next) {\n        return function (action) {\n          return next(action);\n        };\n      };\n    };\n  }\n\n  if (transformer) {\n    console.error(\"Option 'transformer' is deprecated, use stateTransformer instead\");\n  }\n\n  var logBuffer = [];\n  function printBuffer() {\n    logBuffer.forEach(function (logEntry, key) {\n      var started = logEntry.started;\n      var startedTime = logEntry.startedTime;\n      var action = logEntry.action;\n      var prevState = logEntry.prevState;\n      var error = logEntry.error;\n      var took = logEntry.took;\n      var nextState = logEntry.nextState;\n\n      var nextEntry = logBuffer[key + 1];\n      if (nextEntry) {\n        nextState = nextEntry.prevState;\n        took = nextEntry.started - started;\n      }\n      // message\n      var formattedAction = actionTransformer(action);\n      var isCollapsed = typeof collapsed === \"function\" ? collapsed(function () {\n        return nextState;\n      }, action) : collapsed;\n\n      var formattedTime = formatTime(startedTime);\n      var titleCSS = colors.title ? \"color: \" + colors.title(formattedAction) + \";\" : null;\n      var title = \"action \" + (timestamp ? formattedTime : \"\") + \" \" + formattedAction.type + \" \" + (duration ? \"(in \" + took.toFixed(2) + \" ms)\" : \"\");\n\n      // render\n      try {\n        if (isCollapsed) {\n          if (colors.title) logger.groupCollapsed(\"%c \" + title, titleCSS);else logger.groupCollapsed(title);\n        } else {\n          if (colors.title) logger.group(\"%c \" + title, titleCSS);else logger.group(title);\n        }\n      } catch (e) {\n        logger.log(title);\n      }\n\n      var prevStateLevel = getLogLevel(level, formattedAction, [prevState], \"prevState\");\n      var actionLevel = getLogLevel(level, formattedAction, [formattedAction], \"action\");\n      var errorLevel = getLogLevel(level, formattedAction, [error, prevState], \"error\");\n      var nextStateLevel = getLogLevel(level, formattedAction, [nextState], \"nextState\");\n\n      if (prevStateLevel) {\n        if (colors.prevState) logger[prevStateLevel](\"%c prev state\", \"color: \" + colors.prevState(prevState) + \"; font-weight: bold\", prevState);else logger[prevStateLevel](\"prev state\", prevState);\n      }\n\n      if (actionLevel) {\n        if (colors.action) logger[actionLevel](\"%c action\", \"color: \" + colors.action(formattedAction) + \"; font-weight: bold\", formattedAction);else logger[actionLevel](\"action\", formattedAction);\n      }\n\n      if (error && errorLevel) {\n        if (colors.error) logger[errorLevel](\"%c error\", \"color: \" + colors.error(error, prevState) + \"; font-weight: bold\", error);else logger[errorLevel](\"error\", error);\n      }\n\n      if (nextStateLevel) {\n        if (colors.nextState) logger[nextStateLevel](\"%c next state\", \"color: \" + colors.nextState(nextState) + \"; font-weight: bold\", nextState);else logger[nextStateLevel](\"next state\", nextState);\n      }\n\n      try {\n        logger.groupEnd();\n      } catch (e) {\n        logger.log(\"—— log end ——\");\n      }\n    });\n    logBuffer.length = 0;\n  }\n\n  return function (_ref) {\n    var getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        // exit early if predicate function returns false\n        if (typeof predicate === \"function\" && !predicate(getState, action)) {\n          return next(action);\n        }\n\n        var logEntry = {};\n        logBuffer.push(logEntry);\n\n        logEntry.started = timer.now();\n        logEntry.startedTime = new Date();\n        logEntry.prevState = stateTransformer(getState());\n        logEntry.action = action;\n\n        var returnedValue = undefined;\n        if (logErrors) {\n          try {\n            returnedValue = next(action);\n          } catch (e) {\n            logEntry.error = errorTransformer(e);\n          }\n        } else {\n          returnedValue = next(action);\n        }\n\n        logEntry.took = timer.now() - logEntry.started;\n        logEntry.nextState = stateTransformer(getState());\n\n        printBuffer();\n\n        if (logEntry.error) throw logEntry.error;\n        return returnedValue;\n      };\n    };\n  };\n}\n\nmodule.exports = createLogger;\n},{}],14:[function(require,module,exports){\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = thunkMiddleware;\nfunction thunkMiddleware(_ref) {\n  var dispatch = _ref.dispatch;\n  var getState = _ref.getState;\n\n  return function (next) {\n    return function (action) {\n      if (typeof action === 'function') {\n        return action(dispatch, getState);\n      }\n\n      return next(action);\n    };\n  };\n}\n},{}]},{},[6])\n\n","export function incrementCounter() {\n    return {\n        type: 'INCREMENT'\n    };\n}\n\nexport function decrementCounter() {\n    return {\n        type: 'DECREMENT'\n    };\n}\n\n//\n// export function decrementCounter() {\n//     return {\n//         type: 'DECREMENT'\n//     };\n// };\n","export function requestFeedbacks() {\n    return {\n        type: 'REQUEST_FEEDBACKS'\n    };\n}\n\n\nexport function fetchFeedbacks() {\n\n    return (dispatch) => {\n        Store.dispatch(requestFeedbacks());\n\n        return fetch('/api/feedbacks')\n              .then(response => response.json())\n              .then(json => Store.dispatch(receiveFeedbacks(json)));\n    };\n}\n\nexport function receiveFeedbacks(feedbacks) {\n    return {\n        type: 'RECEIVE_FEEDBACKS',\n        feedbacks,\n        receivedAt: Date.now()\n    };\n}\n\nexport function shouldFetchFeedbacks(state) {\n    if (state.feedbacks.receivedAt && moment(state.feedbacks.receivedAt) > moment().subtract(10, 'minutes')) {\n        return false;\n    }\n\n    return true;\n}\n\nexport function fetchFeedbacksIfNeeded() {\n    return (dispatch, getState) => {\n        if (shouldFetchFeedbacks(Store.getState())) {\n            // Dispatch a thunk from thunk!\n            return Store.dispatch(fetchFeedbacks());\n        } else {\n            // Let the calling code know there's nothing to wait for.\n            return Promise.resolve();\n        }\n    };\n}\n","export * from './counter';\nexport * from './todos';\nexport * from './user';\nexport * from './feedbacks';\n","// maybe add constants folder\nvar nextTodoId = 0;\n\nexport var addTodo = function(text) {\n    return {\n        type: 'ADD_TODO',\n        id: nextTodoId++,\n        text: text\n    };\n};\n\nexport var setVisibilityFilter = function(filter) {\n    return {\n        type: 'SET_VISIBILITY_FILTER',\n        filter: filter\n    };\n};\n\nexport var toggleTodo = function(id) {\n    return {\n        type: 'TOGGLE_TODO',\n        id: id\n    };\n};\n","\"use strict\";\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==","import './store.js';\n\nwindow.App = {};\n\nApp.routesLoad = function () {\n    riot.visit = function (pageName) {\n        riot.mount('#page', 'page-' + pageName);\n    };\n\n    riot.route('/', function() {\n        riot.visit('index');\n        console.log('root route is called');\n    });\n\n    riot.route('/about', function() {\n        riot.visit('about');\n    });\n\n    riot.route('/contact', function() {\n        riot.visit('contact');\n    });\n\n    riot.route('/counter', function() {\n        riot.visit('counter');\n    });\n\n    riot.route('/forgot-password', function() {\n        riot.visit('forgot-password');\n    });\n\n    riot.route('/login', function() {\n        riot.visit('login');\n    });\n\n    riot.route('/privacy', function() {\n        riot.visit('privacy');\n    });\n\n    riot.route('/register', function() {\n        riot.visit('register');\n    });\n\n    riot.route('/search?keyword=*', function(keyword) {\n        riot.visit('search');\n        console.log('Search keyword: ' + keyword);\n    });\n\n    riot.route('/terms', function() {\n        riot.visit('terms');\n    });\n\n    riot.route(function(collection, id, action) {\n        console.log('Collection is: ' + collection);\n        console.log('id is: ' + id);\n        console.log('action is: ' + action);\n    });\n\n    riot.route.base('/');\n    riot.route.start(true);\n\n    App.routesLoad = function(){}; // so nobody can call it again\n};\n\nvar AppInitializer = (function () {\n    $.getJSON('/api/feedbacks').then(function (data) {\n        // window.store.feedbacks = data;\n        riot.mount('*');\n        App.routesLoad();\n    });\n\n    return {};\n})();\n","export function counter(state = 0, action) {\n    switch (action.type) {\n    case 'INCREMENT':\n        return state + 1;\n    case 'DECREMENT':\n        return state - 1;\n    default:\n        return state;\n    }\n}\n","// make the async creators with tunk middleware\n\nexport function feedbacks(state = {}, action) {\n    switch(action.type) {\n        case 'REQUEST_FEEDBACKS':\n            return state;\n        case 'RECEIVE_FEEDBACKS':\n            // return {\n            //     receivedAt: action.receivedAt\n            // };\n            return Object.assign({}, action.feedbacks, {\n                receivedAt: action.receivedAt\n            });\n        default:\n            return state;\n    }\n}\n","export * from './counter';\nexport * from './feedbacks';\nexport * from './todos';\nexport * from './user';\n","// import undoable, { distinctState } from 'redux-undo'\n\nexport function todo(state = {}, action) {\n    switch (action.type) {\n    case 'ADD_TODO':\n        return {\n            id: action.id,\n            text: action.text,\n            completed: false\n        };\n    case 'TOGGLE_TODO':\n        if (state.id !== action.id) {\n            return state;\n        }\n\n        return Object.assign({}, state, {\n            completed: !state.completed\n        });\n    default:\n        return state;\n    }\n}\n\nexport function todos(state = [], action) {\n    switch (action.type) {\n    case 'ADD_TODO':\n        return [\n            ...state,\n            todo(undefined, action)\n        ];\n    case 'TOGGLE_TODO':\n        return state.map(function(t) {\n            todo(t, action);\n        });\n    default:\n        return state;\n    }\n}\n\nexport function visibilityFilter(state = 'SHOW_ALL', action) {\n    switch (action.type) {\n    case 'SET_VISIBILITY_FILTER':\n        return action.filter;\n    default:\n        return state;\n    }\n}\n\n// const undoableTodos = undoable(todos, {\n//   filter: distinctState()\n// })\n\n// export default undoableTodos\n","export function user(state, action) {\n    if(!state) { state = 0; }\n    switch(action.type) {\n        case 'USER_CREATE':\n            return {\n                username: action.username,\n                email: action.email,\n                name: action.name,\n                firstName: action.firstName,\n                lastName: action.lastName,\n                created_at: '',\n                updated_at: '',\n                passwordDigest: ''\n            };\n        default:\n            return state;\n    }\n}\n","import * as actions from './actions';\nimport * as reducers from './reducers';\nimport thunk from 'redux-thunk';\nimport createLogger from 'redux-logger';\n// REDUX HERE ==========================================\n//normalizr and camelCase libraries\n\nvar initialState = {\n    todosVisibilityFilter: 'SHOW_ALL',\n    todos: [],\n    todo: {},\n    user: {},\n    counter: 0,\n    feedbacks: {\n        count: 0,\n        count_nolimit: 0,\n        items: [],\n        total: 0,\n        ratings: [1, 2, 3, 4, 5]\n    }\n};\n\n/**\n * Logs all actions and states after they are dispatched.\n */\n// const logger = store => next => action => {\n//     console.group(action.type);\n//     console.info('dispatching', action);\n//     let result = next(action);\n//     console.log('next state', store.getState());\n//     console.groupEnd(action.type);\n//     return result;\n// };\n\nconst logger = createLogger();\n\n\n/**\n * Sends crash reports as state is updated and listeners are notified.\n */\nconst crashReporter = store => next => action => {\n    try {\n        return next(action);\n    } catch (err) {\n        console.error('Caught an exception!', err);\n        // Raven.captureException(err, {\n        //   extra: {\n        //     action,\n        //     state: store.getState()\n        //   }\n        // });\n        throw err;\n    }\n};\n\n/**\n * Lets you dispatch a function instead of an action.\n * This function will receive `dispatch` and `getState` as arguments.\n *\n * Useful for early exits (conditions over `getState()`), as well\n * as for async control flow (it can `dispatch()` something else).\n *\n * `dispatch` will return the return value of the dispatched function.\n */\n// const thunk = store => next => action =>\n//     typeof action === 'function' ?\n//         action(store.dispatch, store.getState) :\n//         next(action);\n\n\n// You can use all of them! (It doesn’t mean you should.)\nlet reducer = Redux.combineReducers(reducers);\nvar Store = Redux.createStore(\n    reducer,\n    initialState,\n    Redux.applyMiddleware(\n        thunk,\n        crashReporter,\n        logger\n    )\n);\n\nwindow.Store = Store;\nwindow.actions = actions;\nwindow.reducers = reducers;\n\nriot.mixin('store', {\n    init: function() {\n        var self = this;\n\n        // store = Store.getState();\n        window.dispatch = Store.dispatch;\n\n        _.each(Object.keys(actions), function(action) {\n            self[action] = function() {\n                return dispatch(actions[action]());\n            };\n        });\n\n        self.on('mount', function() {\n            self.store = Store.getState();\n\n            Store.subscribe(function() {\n                console.log('called');\n                self.store = Store.getState();\n                self.update();\n                // performance optimization: find which selector is used\n            });\n\n            console.log('Store mount is called for a tag: ' + self.root.tagName);\n            self.update();\n        });\n\n        self.on('update', function() {\n            console.log('Store update is called for a tag: ' + self.root.tagName);\n        });\n\n        // performance optimization: unsubscribe on unmount if its necessary\n    }\n});\n\n// unused middlewares:\n\n/**\n * Schedules actions with { meta: { delay: N } } to be delayed by N milliseconds.\n * Makes `dispatch` return a function to cancel the timeout in this case.\n */\n// const timeoutScheduler = store => next => action => {\n//     if (!action.meta || !action.meta.delay) {\n//         return next(action);\n//     }\n//\n//     let timeoutId = setTimeout(\n//         () => next(action),\n//         action.meta.delay\n//     );\n//\n//     return function cancel() {\n//         clearTimeout(timeoutId);\n//     };\n// };\n\n/**\n * Schedules actions with { meta: { raf: true } } to be dispatched inside a rAF loop\n * frame.  Makes `dispatch` return a function to remove the action from the queue in\n * this case.\n */\n// const rafScheduler = store => next => {\n//     let queuedActions = [];\n//     let frame = null;\n//\n//     function loop() {\n//         frame = null;\n//         try {\n//             if (queuedActions.length) {\n//                 next(queuedActions.shift());\n//             }\n//         } finally {\n//             maybeRaf();\n//         }\n//     }\n//\n//     function maybeRaf() {\n//         if (queuedActions.length && !frame) {\n//             // frame = requestAnimationFrame(loop);\n//         }\n//     }\n//\n//     return action => {\n//         if (!action.meta || !action.meta.raf) {\n//             return next(action);\n//         }\n//\n//         queuedActions.push(action);\n//         maybeRaf();\n//\n//         return function cancel() {\n//             queuedActions = queuedActions.filter(a => a !== action);\n//         };\n//     };\n// };\n\n/**\n * Lets you dispatch promises in addition to actions.\n * If the promise is resolved, its result will be dispatched as an action.\n * The promise is returned from `dispatch` so the caller may handle rejection.\n */\n// const vanillaPromise = store => next => action => {\n//     if (typeof action.then !== 'function') {\n//         return next(action);\n//     }\n//\n//     return Promise.resolve(action).then(store.dispatch);\n// };\n\n/**\n * Lets you dispatch special actions with a { promise } field.\n *\n * This middleware will turn them into a single action at the beginning,\n * and a single success (or failure) action when the `promise` resolves.\n *\n * For convenience, `dispatch` will return the promise so the caller can wait.\n */\n// const readyStatePromise = store => next => action => {\n//     if (!action.promise) {\n//         return next(action);\n//     }\n//\n//     function makeAction(ready, data) {\n//         let newAction = Object.assign({}, action, { ready }, data);\n//         delete newAction.promise;\n//         return newAction;\n//     }\n//\n//     next(makeAction(false));\n//     return action.promise.then(\n//         result => next(makeAction(true, { result })),\n//         error => next(makeAction(true, { error }))\n//     );\n// };\n","\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\nvar repeat = function repeat(str, times) {\n  return new Array(times + 1).join(str);\n};\nvar pad = function pad(num, maxLength) {\n  return repeat(\"0\", maxLength - num.toString().length) + num;\n};\nvar formatTime = function formatTime(time) {\n  return \"@ \" + pad(time.getHours(), 2) + \":\" + pad(time.getMinutes(), 2) + \":\" + pad(time.getSeconds(), 2) + \".\" + pad(time.getMilliseconds(), 3);\n};\n\n// Use the new performance api to get better precision if available\nvar timer = typeof performance !== \"undefined\" && typeof performance.now === \"function\" ? performance : Date;\n\n/**\n * parse the level option of createLogger\n *\n * @property {string | function | object} level - console[level]\n * @property {object} action\n * @property {array} payload\n * @property {string} type\n */\n\nfunction getLogLevel(level, action, payload, type) {\n  switch (typeof level === \"undefined\" ? \"undefined\" : _typeof(level)) {\n    case \"object\":\n      return typeof level[type] === \"function\" ? level[type].apply(level, _toConsumableArray(payload)) : level[type];\n    case \"function\":\n      return level(action);\n    default:\n      return level;\n  }\n}\n\n/**\n * Creates logger with followed options\n *\n * @namespace\n * @property {object} options - options for logger\n * @property {string | function | object} options.level - console[level]\n * @property {boolean} options.duration - print duration of each action?\n * @property {boolean} options.timestamp - print timestamp with each action?\n * @property {object} options.colors - custom colors\n * @property {object} options.logger - implementation of the `console` API\n * @property {boolean} options.logErrors - should errors in action execution be caught, logged, and re-thrown?\n * @property {boolean} options.collapsed - is group collapsed?\n * @property {boolean} options.predicate - condition which resolves logger behavior\n * @property {function} options.stateTransformer - transform state before print\n * @property {function} options.actionTransformer - transform action before print\n * @property {function} options.errorTransformer - transform error before print\n */\n\nfunction createLogger() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n  var _options$level = options.level;\n  var level = _options$level === undefined ? \"log\" : _options$level;\n  var _options$logger = options.logger;\n  var logger = _options$logger === undefined ? console : _options$logger;\n  var _options$logErrors = options.logErrors;\n  var logErrors = _options$logErrors === undefined ? true : _options$logErrors;\n  var collapsed = options.collapsed;\n  var predicate = options.predicate;\n  var _options$duration = options.duration;\n  var duration = _options$duration === undefined ? false : _options$duration;\n  var _options$timestamp = options.timestamp;\n  var timestamp = _options$timestamp === undefined ? true : _options$timestamp;\n  var transformer = options.transformer;\n  var _options$stateTransfo = options.stateTransformer;\n  var // deprecated\n  stateTransformer = _options$stateTransfo === undefined ? function (state) {\n    return state;\n  } : _options$stateTransfo;\n  var _options$actionTransf = options.actionTransformer;\n  var actionTransformer = _options$actionTransf === undefined ? function (actn) {\n    return actn;\n  } : _options$actionTransf;\n  var _options$errorTransfo = options.errorTransformer;\n  var errorTransformer = _options$errorTransfo === undefined ? function (error) {\n    return error;\n  } : _options$errorTransfo;\n  var _options$colors = options.colors;\n  var colors = _options$colors === undefined ? {\n    title: function title() {\n      return \"#000000\";\n    },\n    prevState: function prevState() {\n      return \"#9E9E9E\";\n    },\n    action: function action() {\n      return \"#03A9F4\";\n    },\n    nextState: function nextState() {\n      return \"#4CAF50\";\n    },\n    error: function error() {\n      return \"#F20404\";\n    }\n  } : _options$colors;\n\n  // exit if console undefined\n\n  if (typeof logger === \"undefined\") {\n    return function () {\n      return function (next) {\n        return function (action) {\n          return next(action);\n        };\n      };\n    };\n  }\n\n  if (transformer) {\n    console.error(\"Option 'transformer' is deprecated, use stateTransformer instead\");\n  }\n\n  var logBuffer = [];\n  function printBuffer() {\n    logBuffer.forEach(function (logEntry, key) {\n      var started = logEntry.started;\n      var startedTime = logEntry.startedTime;\n      var action = logEntry.action;\n      var prevState = logEntry.prevState;\n      var error = logEntry.error;\n      var took = logEntry.took;\n      var nextState = logEntry.nextState;\n\n      var nextEntry = logBuffer[key + 1];\n      if (nextEntry) {\n        nextState = nextEntry.prevState;\n        took = nextEntry.started - started;\n      }\n      // message\n      var formattedAction = actionTransformer(action);\n      var isCollapsed = typeof collapsed === \"function\" ? collapsed(function () {\n        return nextState;\n      }, action) : collapsed;\n\n      var formattedTime = formatTime(startedTime);\n      var titleCSS = colors.title ? \"color: \" + colors.title(formattedAction) + \";\" : null;\n      var title = \"action \" + (timestamp ? formattedTime : \"\") + \" \" + formattedAction.type + \" \" + (duration ? \"(in \" + took.toFixed(2) + \" ms)\" : \"\");\n\n      // render\n      try {\n        if (isCollapsed) {\n          if (colors.title) logger.groupCollapsed(\"%c \" + title, titleCSS);else logger.groupCollapsed(title);\n        } else {\n          if (colors.title) logger.group(\"%c \" + title, titleCSS);else logger.group(title);\n        }\n      } catch (e) {\n        logger.log(title);\n      }\n\n      var prevStateLevel = getLogLevel(level, formattedAction, [prevState], \"prevState\");\n      var actionLevel = getLogLevel(level, formattedAction, [formattedAction], \"action\");\n      var errorLevel = getLogLevel(level, formattedAction, [error, prevState], \"error\");\n      var nextStateLevel = getLogLevel(level, formattedAction, [nextState], \"nextState\");\n\n      if (prevStateLevel) {\n        if (colors.prevState) logger[prevStateLevel](\"%c prev state\", \"color: \" + colors.prevState(prevState) + \"; font-weight: bold\", prevState);else logger[prevStateLevel](\"prev state\", prevState);\n      }\n\n      if (actionLevel) {\n        if (colors.action) logger[actionLevel](\"%c action\", \"color: \" + colors.action(formattedAction) + \"; font-weight: bold\", formattedAction);else logger[actionLevel](\"action\", formattedAction);\n      }\n\n      if (error && errorLevel) {\n        if (colors.error) logger[errorLevel](\"%c error\", \"color: \" + colors.error(error, prevState) + \"; font-weight: bold\", error);else logger[errorLevel](\"error\", error);\n      }\n\n      if (nextStateLevel) {\n        if (colors.nextState) logger[nextStateLevel](\"%c next state\", \"color: \" + colors.nextState(nextState) + \"; font-weight: bold\", nextState);else logger[nextStateLevel](\"next state\", nextState);\n      }\n\n      try {\n        logger.groupEnd();\n      } catch (e) {\n        logger.log(\"—— log end ——\");\n      }\n    });\n    logBuffer.length = 0;\n  }\n\n  return function (_ref) {\n    var getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        // exit early if predicate function returns false\n        if (typeof predicate === \"function\" && !predicate(getState, action)) {\n          return next(action);\n        }\n\n        var logEntry = {};\n        logBuffer.push(logEntry);\n\n        logEntry.started = timer.now();\n        logEntry.startedTime = new Date();\n        logEntry.prevState = stateTransformer(getState());\n        logEntry.action = action;\n\n        var returnedValue = undefined;\n        if (logErrors) {\n          try {\n            returnedValue = next(action);\n          } catch (e) {\n            logEntry.error = errorTransformer(e);\n          }\n        } else {\n          returnedValue = next(action);\n        }\n\n        logEntry.took = timer.now() - logEntry.started;\n        logEntry.nextState = stateTransformer(getState());\n\n        printBuffer();\n\n        if (logEntry.error) throw logEntry.error;\n        return returnedValue;\n      };\n    };\n  };\n}\n\nmodule.exports = createLogger;","'use strict';\n\nexports.__esModule = true;\nexports['default'] = thunkMiddleware;\nfunction thunkMiddleware(_ref) {\n  var dispatch = _ref.dispatch;\n  var getState = _ref.getState;\n\n  return function (next) {\n    return function (action) {\n      if (typeof action === 'function') {\n        return action(dispatch, getState);\n      }\n\n      return next(action);\n    };\n  };\n}"],"sourceRoot":"/source/"}